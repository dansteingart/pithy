"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2),_keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys),_asyncToGenerator2=require("babel-runtime/helpers/asyncToGenerator"),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_path=require("path"),_path2=_interopRequireDefault(_path),_run=require("./run"),_run2=_interopRequireDefault(_run);exports["default"]=function(){function e(e,t){return r.apply(this,arguments)}var r=(0,_asyncToGenerator3["default"])(_regenerator2["default"].mark(function t(e,r){var n,a,u,o,i,s,c,_,l,p,f,b,d;return _regenerator2["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r._.slice(1),a=require(_path2["default"].join(e,"package.json")),n.length){t.next=6;break}return u=(0,_keys2["default"])(a.scripts||[]),console.log("Available scripts: "+u.join(", ")),t.abrupt("return");case 6:o=[],i=!0,s=!1,c=void 0,t.prev=10,_=(0,_getIterator3["default"])(n);case 12:if(i=(l=_.next()).done){t.next=21;break}return p=l.value,t.next=16,(0,_run2["default"])(e,a,p);case 16:f=t.sent,o.push(f);case 18:i=!0,t.next=12;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](10),s=!0,c=t.t0;case 27:t.prev=27,t.prev=28,!i&&_["return"]&&_["return"]();case 30:if(t.prev=30,!s){t.next=33;break}throw c;case 33:return t.finish(30);case 34:return t.finish(27);case 35:b=n.map(function(e,r){return e+" exited with status "+o[r]}).join("\n"),console.log(b),d=o.every(function(e){return 0===e}),process.exit(d?0:1);case 39:case"end":return t.stop()}},t,this,[[10,23,27,35],[28,,30,34]])}));return e}();