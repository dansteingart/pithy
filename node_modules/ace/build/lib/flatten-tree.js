"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function insertToFlat(e,t,r){var a=t.get(_path2["default"].join(BASE,e.name));if(!a)return t.set(_path2["default"].join(BASE,e.name),e);if(a.version!==e.version){var n=[BASE],o=!0,u=!1,i=void 0;try{for(var l,f=(0,_getIterator3["default"])(r);!(o=(l=f.next()).done);o=!0){var d=l.value;n.push(d.name,"node_modules");var _=_path2["default"].join.apply(null,n.concat(e.name));if(!t.has(_))return t.set(_,e)}}catch(p){u=!0,i=p}finally{try{!o&&f["return"]&&f["return"]()}finally{if(u)throw i}}}}function flatten(e,t,r){var a=!0,n=!1,o=void 0;try{for(var u,i=(0,_getIterator3["default"])(e);!(a=(u=i.next()).done);a=!0){var l=u.value;insertToFlat(l,t,r)}}catch(f){n=!0,o=f}finally{try{!a&&i["return"]&&i["return"]()}finally{if(n)throw o}}var d=!0,_=!1,p=void 0;try{for(var v,c=(0,_getIterator3["default"])(e);!(d=(v=c.next()).done);d=!0){var s=v.value;s.dependencies&&flatten(s.dependencies,t,r.concat(s))}}catch(f){_=!0,p=f}finally{try{!d&&c["return"]&&c["return"]()}finally{if(_)throw p}}}Object.defineProperty(exports,"__esModule",{value:!0});var _map=require("babel-runtime/core-js/map"),_map2=_interopRequireDefault(_map),_getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2);exports["default"]=function(e){var t=new _map2["default"];return flatten(e,t,[]),t};var _path=require("path"),_path2=_interopRequireDefault(_path),BASE=_path2["default"].join(process.cwd(),"node_modules");